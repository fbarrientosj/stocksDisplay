(this.webpackJsonpstockviewer=this.webpackJsonpstockviewer||[]).push([[0],{198:function(e,t,a){e.exports=a(414)},203:function(e,t,a){},234:function(e,t){},414:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(57),r=a.n(c),o=(a(203),a(91)),u=a.n(o),m=a(158),i=a(14),s=a(62),E=a(8),d=a(13),v=a(159),b=a.n(v),h=a(33);function f(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),c=a[0],r=(a[1],e.data);return c.length>0&&c[0].ticker,l.a.createElement("div",null,l.a.createElement(h.b,{width:500,height:300,data:r},l.a.createElement(h.d,{dataKey:"tima",label:{value:"Tiempo"}}),l.a.createElement(h.e,{label:{value:"Precio",angle:90,position:"insideLeft"}}),l.a.createElement(h.c,null),l.a.createElement(h.a,{time:"monotone",dataKey:"value",stroke:"#999",activeDot:{r:8}})))}function p(e){var t=JSON.parse(e.data);t=Object.values(t);for(var a={},n=0,c=Object.entries(e.realData);n<c.length;n++){var r=Object(d.a)(c[n],2),o=r[0],u=(r[1],Math.min.apply(Math,e.realData[o].map((function(e){return e.value})))),m=Math.max.apply(Math,e.realData[o].map((function(e){return e.value}))),i=e.realData[o][e.realData[o].length-1].value,s=(i-e.realData[o][0].value)/e.realData[o][0].value;a[o]={},a[o].min=u,a[o].max=m,a[o].ultimo=i,a[o].variacion=s}return l.a.createElement("div",null,l.a.createElement("h3",null," Actualmente se muestra la informaci\xf3n de ",t.length," acciones"),l.a.createElement("br",null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table"},l.a.createElement("th",null," Ticker "),l.a.createElement("th",null," Volumen Transado  "),l.a.createElement("th",null," Alto Historico  "),l.a.createElement("th",null," Bajo Historico "),l.a.createElement("th",null," \xdaltimo Precio "),l.a.createElement("th",null," Variaci\xf3n Porcentual "),l.a.createElement("th",null," Volumen Compra "),l.a.createElement("th",null," Volumen Venta "))),l.a.createElement("thead",null,t.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.ticker," "),l.a.createElement("td",null," ",Math.abs(e.volumenTransado)," "),l.a.createElement("td",null," ",a[e.ticker]?a[e.ticker].max:0," "),l.a.createElement("td",null," ",a[e.ticker]?a[e.ticker].min:0," "),l.a.createElement("td",null," ",a[e.ticker]?a[e.ticker].ultimo:0," "),l.a.createElement("td",null," ",a[e.ticker]?Math.round(1e4*(a[e.ticker].variacion+Number.EPSILON))/1e4:0," "),l.a.createElement("td",null," ",e.volumenCompra," "),l.a.createElement("td",null," ",e.volumenVenta," "))})))))}function k(e){var t=JSON.parse(e.data);t=Object.values(t);var a=e.exchangeData,n=[],c=0;return a.forEach((function(e){for(var a={volumenCompra:0,volumenVenta:0,volumenTotal:0,cantidadAcciones:e.listed_companies.length,participacion:0,name:e.name},l=0;l<t.length;l++)e.listed_companies.indexOf(t[l].companyName)>-1&&(a.volumenCompra+=Math.abs(t[l].volumenCompra),a.volumenVenta+=Math.abs(t[l].volumenVenta),a.volumenTotal+=Math.abs(t[l].volumenTransado),c+=Math.abs(t[l].volumenTransado));n.push(a)})),n.map((function(e){c+=e.cantidadAcciones})),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",null,"Informaci\xf3n de mercados"),l.a.createElement("br",null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table"},l.a.createElement("th",null," Nombre de Exchange "),l.a.createElement("th",null," Volumen Transado  "),l.a.createElement("th",null," Volumen Compra  "),l.a.createElement("th",null," Volumen Venta "),l.a.createElement("th",null," Numero acciones "),l.a.createElement("th",null," Participacion Mercado "))),l.a.createElement("thead",null,n.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.name," "),l.a.createElement("td",null," ",e.volumenTotal>=0?e.volumenTotal:-1*e.volumenTotal," "),l.a.createElement("td",null," ",e.volumenCompra," "),l.a.createElement("td",null," ",e.volumenVenta," "),l.a.createElement("td",null," ",e.cantidadAcciones," "),l.a.createElement("td",null," ",Math.abs(e.volumenTotal/c)," "))})))))}function O(e){var t=e.data;return t=Object.values(t),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",null," Detalle est\xe1tico Bursatil "),l.a.createElement("br",null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table"},l.a.createElement("th",null," Nombre de la compa\xf1\xeda "),l.a.createElement("th",null," Ticker de la acci\xf3n  "),l.a.createElement("th",null," Pa\xeds de origen  "))),l.a.createElement("thead",null,t.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.company_name," "),l.a.createElement("td",null," ",e.ticker," "),l.a.createElement("td",null," ",e.country," "))})))))}var j=b()("wss://le-18262636.bitzonte.com",{path:"/stocks"});var T=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),o=Object(d.a)(r,2),v=o[0],b=o[1],h=Object(n.useState)({}),T=Object(d.a)(h,2),g=T[0],N=T[1],S=Object(n.useState)([]),V=Object(d.a)(S,2),C=V[0],w=V[1],y=function(){j.connect(),j.on("UPDATE",(function(e){var t={time:e.time,value:e.value};b((function(a){return Object(E.a)({},a,Object(i.a)({},e.ticker,[].concat(Object(s.a)(a[e.ticker]||[]),[t])))}))})),j.on("BUY",(function(e){N((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenTransado:t[e.ticker].volumenTransado+e.volume})))})),N((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenCompra:t[e.ticker].volumenCompra+e.volume})))}))})),j.on("SELL",(function(e){N((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenTransado:t[e.ticker].volumenTransado-e.volume})))})),N((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenVenta:t[e.ticker].volumenVenta+e.volume})))}))}))};return Object(n.useEffect)((function(){j.emit("STOCKS",(function(){})),j.on("STOCKS",(function(e){for(var t=function(){var t=e[a];N((function(e){return Object(E.a)({},e,Object(i.a)({},t.ticker,Object(E.a)({},e[t.ticker]||{},{volumenTransado:0,altoHistorico:0,bajoHistorico:0,ultimoPrecio:0,variacionPorcentual:0,volumenCompra:0,volumenVenta:0,numeroAcciones:0,ticker:t.ticker,participacionMercado:0,companyName:t.company_name,pices:[]})))})),c((function(t){return[].concat(Object(s.a)(t),[e[a]])}))},a=0;a<e.length;a++)t()})),j.emit("EXCHANGES",(function(){})),j.on("EXCHANGES",(function(e){Object.values(e).map((function(e){e.stocks=[],w((function(t){return[].concat(Object(s.a)(t),[e])}))}))}));var e=function(e){return new Promise((function(t){return setTimeout(t,e)}))};Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("1"),t.next=3,e(500);case 3:return console.log("2"),t.next=6,e(1900);case 6:y();case 7:case"end":return t.stop()}}),t)})))()}),[]),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null," Bienvenido al visualizador de Acciones! "),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){j.disconnect()}}," Desconectar socket"),l.a.createElement("button",{onClick:function(){return y()}}," conectar socket"),l.a.createElement("br",null)),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement(p,{data:JSON.stringify(g),realData:v})),l.a.createElement("div",null,l.a.createElement(k,{data:JSON.stringify(g),exchangeData:C})),l.a.createElement("div",null,l.a.createElement(O,{data:a})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("h1",null,"Gr\xe1ficos de variaci\xf3n de precio"),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("div",null,a.map((function(e){return l.a.createElement("div",{className:"chart"},l.a.createElement("h3",{className:"title"}," ",e.ticker," "),l.a.createElement("div",null,l.a.createElement(f,{key:e.ticker,data:v[e.ticker]}),l.a.createElement("br",null),l.a.createElement("hr",null)))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(413);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[198,1,2]]]);
//# sourceMappingURL=main.79668833.chunk.js.map