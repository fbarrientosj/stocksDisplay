(this.webpackJsonpstockviewer=this.webpackJsonpstockviewer||[]).push([[0],{197:function(e,t,a){e.exports=a(413)},202:function(e,t,a){},233:function(e,t){},413:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(57),c=a.n(r),o=(a(202),a(91)),u=a.n(o),m=a(158),i=a(14),s=a(62),E=a(8),d=a(13),v=a(159),b=a.n(v),h=a(20);function f(e){var t=Object(n.useState)([]),a=Object(d.a)(t,2),r=a[0],c=(a[1],e.data);return r.length>0&&r[0].ticker,l.a.createElement("div",null,l.a.createElement(h.c,{width:450,height:300,data:c},l.a.createElement(h.e,{dataKey:"time",stroke:"#7c795d",label:{value:"Tiempo",maeginTop:"100px",position:"insideBottom"}}),l.a.createElement(h.f,{stroke:"#7c795d",label:{value:"Valor",angle:-90}}),l.a.createElement(h.d,null),l.a.createElement(h.a,{stroke:"#7c795d ",strokeDasharray:"5 5"}),l.a.createElement(h.b,{time:"monotone",dataKey:"value",stroke:"#4CAF50",activeDot:{r:8}})))}function k(e){var t=JSON.parse(e.data);t=Object.values(t);for(var a={},n=0,r=Object.entries(e.realData);n<r.length;n++){var c=Object(d.a)(r[n],2),o=c[0],u=(c[1],Math.min.apply(Math,e.realData[o].map((function(e){return e.value})))),m=Math.max.apply(Math,e.realData[o].map((function(e){return e.value}))),i=e.realData[o][e.realData[o].length-1].value;if(e.realData[o][e.realData[o].length-2])var s=e.realData[o][e.realData[o].length-2].value;else s=i;var E=(i-s)/s;a[o]={},a[o].min=u,a[o].max=m,a[o].ultimo=i,a[o].variacion=E}return l.a.createElement("div",null,l.a.createElement("h3",null," Actualmente se muestra la informaci\xf3n de ",t.length," acciones"),l.a.createElement("br",null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table"},l.a.createElement("th",null," Ticker "),l.a.createElement("th",null," Volumen Transado  "),l.a.createElement("th",null," Alto Historico  "),l.a.createElement("th",null," Bajo Historico "),l.a.createElement("th",null," \xdaltimo Precio "),l.a.createElement("th",null," Variaci\xf3n Porcentual "),l.a.createElement("th",null," Volumen Compra "),l.a.createElement("th",null," Volumen Venta "))),l.a.createElement("thead",null,t.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.ticker," "),l.a.createElement("td",null," ",Math.abs(e.volumenTransado)," "),l.a.createElement("td",null," ",a[e.ticker]?a[e.ticker].max:0," USD "),l.a.createElement("td",null," ",a[e.ticker]?a[e.ticker].min:0," USD "),l.a.createElement("td",null," ",a[e.ticker]?a[e.ticker].ultimo:0," USD"),l.a.createElement("td",null," ",a[e.ticker]?Math.round(1e5*(a[e.ticker].variacion+Number.EPSILON))/1e3:0," % "),l.a.createElement("td",null," ",e.volumenCompra," "),l.a.createElement("td",null," ",e.volumenVenta," "))})))))}function p(e){var t=JSON.parse(e.data);t=Object.values(t);var a=e.exchangeData,n=a.length,r=[],c=0;return a.forEach((function(e){for(var a={volumenCompra:0,volumenVenta:0,volumenTotal:0,cantidadAcciones:e.listed_companies.length,participacion:0,name:e.name},n=0;n<t.length;n++)e.listed_companies.indexOf(t[n].companyName)>-1&&(a.volumenCompra+=Math.abs(t[n].volumenCompra),a.volumenVenta+=Math.abs(t[n].volumenVenta),a.volumenTotal+=Math.abs(t[n].volumenTransado),c+=Math.abs(t[n].volumenTransado));r.push(a)})),r.map((function(e){c+=e.cantidadAcciones})),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",null,"Informaci\xf3n de mercados"),l.a.createElement("h3",null,"En este visor se muestran ",n," bolsas"),l.a.createElement("br",null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table"},l.a.createElement("th",null," Nombre de Exchange "),l.a.createElement("th",null," Volumen Transado  "),l.a.createElement("th",null," Volumen Compra  "),l.a.createElement("th",null," Volumen Venta "),l.a.createElement("th",null," Numero acciones "),l.a.createElement("th",null," Participacion Mercado "))),l.a.createElement("thead",null,r.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.name," "),l.a.createElement("td",null," ",e.volumenTotal>=0?e.volumenTotal:-1*e.volumenTotal," "),l.a.createElement("td",null," ",e.volumenCompra," "),l.a.createElement("td",null," ",e.volumenVenta," "),l.a.createElement("td",null," ",e.cantidadAcciones," "),l.a.createElement("td",null," ",Math.round(1e5*(Math.abs(e.volumenTotal/c)+Number.EPSILON+Number.EPSILON))/1e3," % "))})))))}function O(e){var t=e.data;return t=Object.values(t),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h2",null," Detalle est\xe1tico Bursatil "),l.a.createElement("br",null),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"table"},l.a.createElement("th",null," Nombre de la compa\xf1\xeda "),l.a.createElement("th",null," Ticker de la acci\xf3n  "),l.a.createElement("th",null," Pa\xeds de origen  "))),l.a.createElement("thead",null,t.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.company_name," "),l.a.createElement("td",null," ",e.ticker," "),l.a.createElement("td",null," ",e.country," "))})))))}var j=b()("wss://le-18262636.bitzonte.com",{path:"/stocks"});var g=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),o=Object(d.a)(c,2),v=o[0],b=o[1],h=Object(n.useState)({}),g=Object(d.a)(h,2),N=g[0],S=g[1],T=Object(n.useState)([]),D=Object(d.a)(T,2),V=D[0],C=D[1],w=function(){j.connect(),j.on("UPDATE",(function(e){var t={time:new Date(e.time).toISOString().substr(11,5),value:e.value};b((function(a){return Object(E.a)({},a,Object(i.a)({},e.ticker,[].concat(Object(s.a)(a[e.ticker]||[]),[t])))}))})),j.on("BUY",(function(e){S((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenTransado:t[e.ticker].volumenTransado+e.volume})))})),S((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenCompra:t[e.ticker].volumenCompra+e.volume})))}))})),j.on("SELL",(function(e){S((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenTransado:t[e.ticker].volumenTransado-e.volume})))})),S((function(t){return Object(E.a)({},t,Object(i.a)({},e.ticker,Object(E.a)({},t[e.ticker],{volumenVenta:t[e.ticker].volumenVenta+e.volume})))}))}))};return Object(n.useEffect)((function(){j.emit("STOCKS",(function(){})),j.on("STOCKS",(function(e){for(var t=function(){var t=e[a];S((function(e){return Object(E.a)({},e,Object(i.a)({},t.ticker,Object(E.a)({},e[t.ticker]||{},{volumenTransado:0,altoHistorico:0,bajoHistorico:0,ultimoPrecio:0,variacionPorcentual:0,volumenCompra:0,volumenVenta:0,numeroAcciones:0,ticker:t.ticker,participacionMercado:0,companyName:t.company_name,pices:[]})))})),r((function(t){return[].concat(Object(s.a)(t),[e[a]])}))},a=0;a<e.length;a++)t()})),j.emit("EXCHANGES",(function(){})),j.on("EXCHANGES",(function(e){Object.values(e).map((function(e){e.stocks=[],C((function(t){return[].concat(Object(s.a)(t),[e])}))}))}));var e=function(e){return new Promise((function(t){return setTimeout(t,e)}))};Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("1"),t.next=3,e(500);case 3:return console.log("2"),t.next=6,e(1900);case 6:w();case 7:case"end":return t.stop()}}),t)})))()}),[]),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h1",null," Bienvenido al visualizador de Acciones! "),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement("button",{onClick:function(){j.disconnect()}}," Desconectar socket"),l.a.createElement("button",{onClick:function(){return w()}}," conectar socket"),l.a.createElement("br",null)),l.a.createElement("hr",null),l.a.createElement("div",null,l.a.createElement(k,{data:JSON.stringify(N),realData:v})),l.a.createElement("div",null,l.a.createElement(p,{data:JSON.stringify(N),exchangeData:V})),l.a.createElement("div",null,l.a.createElement(O,{data:a})),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("h1",null,"Gr\xe1ficos de variaci\xf3n de precio"),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("div",null,a.map((function(e){return l.a.createElement("div",{className:"chart"},l.a.createElement("h3",{className:"title"}," ",e.ticker," "),l.a.createElement("div",null,l.a.createElement(f,{key:e.ticker,data:v[e.ticker]}),l.a.createElement("br",null),l.a.createElement("hr",null)))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(412);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[197,1,2]]]);
//# sourceMappingURL=main.2d719a93.chunk.js.map